{% extends "base.html" %} {% block title %}Gestión de Clientes | Industrial
Parts{% endblock %} {% block content %}
<div class="login-card" style="max-width: 900px">
  <h2 style="text-align: center">Clientes</h2>
  <p style="text-align: center; font-size: 14px; color: #777">
    Registra y gestiona tus clientes. Los pedidos se capturan en el módulo
    <strong>Pedidos</strong>.
  </p>

  <div style="margin-top: 20px">
    <h3><i class="fas fa-user-plus"></i> Registrar nuevo cliente</h3>
    <form
      action="{{ url_for('clientes') }}"
      method="POST"
      style="
        margin-top: 10px;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 10px;
      "
    >
      <div class="input-group">
        <label for="nombreCliente">Nombre del cliente</label>
        <input
          type="text"
          id="nombreCliente"
          name="nombre"
          placeholder="Ej: AutoPartes Monterrey"
          required
        />
      </div>
      <div class="input-group">
        <label for="correoCliente">Correo de contacto</label>
        <input
          type="email"
          id="correoCliente"
          name="correo"
          placeholder="Ej: contacto@empresa.com"
          required
        />
      </div>
      <div class="input-group">
        <label for="telefonoCliente">Teléfono (opcional)</label>
        <input
          type="text"
          id="telefonoCliente"
          name="telefono"
          placeholder="Ej: +52 81 1234 5678"
        />
      </div>
      <button
        type="submit"
        class="btn"
        style="grid-column: 1 / -1; justify-self: start"
      >
        <i class="fas fa-save"></i> Agregar cliente
      </button>
    </form>
  </div>

  <h3 style="margin-top: 24px; text-align: center">Clientes registrados</h3>
  <table id="tablaClientes">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Correo</th>
        <th>Teléfono</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for c in clientes %}
      <tr>
        <td><strong>{{ c.nombre }}</strong></td>
        <td>{{ c.correo or '' }}</td>
        <td>{{ c.telefono or '' }}</td>
        <td style="text-align: center">
          <div
            style="
              display: flex;
              gap: 8px;
              justify-content: center;
              flex-wrap: wrap;
            "
          >
            <a
              href="{{ url_for('editar_cliente', id_cliente=c.id_cliente) }}"
              class="btn btn-dark"
              title="Editar cliente"
            >
              <i class="fas fa-edit"></i> Editar
            </a>

            <form
              action="{{ url_for('eliminar_cliente', id_cliente=c.id_cliente) }}"
              method="POST"
              onsubmit="return confirm('¿Eliminar al cliente {{ c.nombre }}?');"
              style="display: inline-block"
            >
              <button
                type="submit"
                class="btn btn-danger"
                title="Eliminar cliente"
              >
                <i class="fas fa-trash"></i> Eliminar
              </button>
            </form>
          </div>
        </td>
      </tr>
      {% else %}
      <tr>
        <td colspan="4" style="text-align: center; color: #666">
          Sin clientes registrados.
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div style="display: flex; justify-content: space-between; margin-top: 20px">
    <button class="btn" onclick="window.location.href='{{ url_for('menu') }}'">
      <i class="fas fa-arrow-left"></i> Volver al menú
    </button>
    <button
      class="btn"
      onclick="window.location.href='{{ url_for('pedidos') }}'"
    >
      <i class="fas fa-file-invoice"></i> Ir a Pedidos
    </button>
  </div>
</div>
{% endblock %}
